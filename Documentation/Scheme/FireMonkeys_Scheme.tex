
%----------------------------------------------------------------------------------------------------------------------------------------

% définit le type de document et ses options
\documentclass[a4paper,10pt]{article}

% des paquetages indispensables, qui ajoutent des fonctionnalites
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{lscape}
\usepackage{url}
\usepackage{xspace}
\usepackage[francais]{babel}
%\usepackage{fullpage}

\pagestyle{plain}


%----------------------------------------------------------------------------------------------------------------------------------------


% le debut du contenu
\begin{document}


%----------------------------------------------------------------------------------------------------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%Page d'accueil
\begin{center}
	%%
	\hspace{3cm}
	\includegraphics[scale=0.8]{logo.ps}

	%%
	\vspace{1cm}
	{\large Projet de spécialité 2010}\\
	{\Large Conception d'un modèle de feu 3D temps réel}\\
	{\large Organisation du projet}\\
	\vspace{1cm}


	\includegraphics[scale=0.3]{feu.ps}\\
	\vspace{2cm}
	%%
	Etudiants impliqués :\\
	Benjamin Aupetit - IRVM - benjamin.aupetit@ensimag.imag.fr\\
	Julien Champeau - IRVM - julien.champeau@ensimag.imag.fr\\
	Arnaud Emilien - IRVM - arnaud.emilien@ensimag.imag.fr\\
	~\\
	Encadrants :\\
	Marie-Paule Cani  -  Marie-Paule.Cani@inrialpes.fr \\
	Aurélie Catel - aurelie.catel@grenoble-inp.fr
	~ \\
	\vspace{3mm}
	Ensimag 2010\\

\end{center}

\newpage

\tableofcontents

\newpage









%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Constitution de l'équipe}
%%%%%%%%%%%%%%%%%

\subsection{Choix du sujet}

Dans notre cursus IRVM nous avons assisté au cours "Graphique 3D" que nous avons particulièrement aprécié. Cette discipline est particulièrement indispensable à l'industrie du jeux vidéo, du film d'animation, ... \\
L'étude d'un phénomène réel, la conception de son modèle et la réalisation d'une application 3D temps réel est un procédé qui nous interesse particulièrement. Actuellement, aucun des sujets présentés ne propose cette démarche.\\
Cette discipline est d'autant plus importante pour nous que nous souhaitons en faire notre métier. Le projet de spécialité est une occasion unique de travailler à temps plein sur une problématique passionante, qui nous permettrait d'aquérir un savoir et des compétences importantes. Ce serait une réelle valeur ajouté dans notre bagage scolaire.\\
~\\
La modélisation du feu est un domaine interessant car il fait le lien entre de nombreux principes physiques, de nombreux modèles mathématiques, de nombreuses méthodes de calcul et de rendu. De plus la contrainte temps réel permet de ne garder que les éléments importants pour la visualisation, en simplifiant les modèles.

\subsection{Choix des membres}
\subsubsection{Arnaud}
    J'ai choisi ce sujet car c'est le domaine qui m'intéresse le plus. Je compte débuter ma carrière professionelle dans ce domaine ou dans un domaine s'en rapprochant énormement. De plus ce projet est un défis technique car nous allons devoir rapidement assimilé de nombreuses connaissances et les mettres en application. Par exemple, nous allons résoudre un système de fluide avec le langage GLSL, que nous ne connaissons pas encore au début du projet. Enfin ce projet peut consituer un aperçu du monde de la recherche en graphique 3D.\\
\subsubsection{Benjamin}
        Ce sujet m'a d'abord interressé car il demande de nombreuses capacités différentes. De plus on peut voir ce projet comme une introduction à la recherche, en effet dans ce projet nous aurons besoin de rechercher où en est l'état de l'art et ensuite de faire notre propre solution. Enfin le fait de proposer notre propre projet veux aussi dire qu'il nous interraisse beacoup plus ce qui est une bonne source de motivation.\\
\subsubsection{Julien}
     J'ai choisi ce sujet car je suis passionné par la graphique 3D et compte bien travailler dans le domaine plus tard. De plus le fait de proposer un projet de modélsation 3D peut etre un avantage pour les futur entretiens d'embauche et allant effectuer mon stage de 2ème année dans un entreprise travaillant dans le domaine et se servant de la programmation shader cela peut me fournir une premiere approche et ainsi combler quelques lacunes.\\


\subsection{Forces et faiblesses de l'équipe}
\subsubsection{Forces}
Une bonne entente des membres du groupe.\\
Julien et Arnaud ont travaillé ensemble sur des TP de nombreuses fois.\\
Benjamin et Arnaud pratiquent le jujitsu ensemble.\\
Nous avons la disponibilité d'une salle pour nous 3 pour travailler sereinement.\\

\subsubsection{Faiblesses}
Personne ne connait (au début du projet) la programmation en Shader.\\







%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Charte de travail}
La charte de travail a été établie dans le but de réaliser le plus de
points de notre sujet dans les délais impartis.  \\

Nous avons réparti le travail de façon homogène entre les membres de
l'équipe.  Nous nous sommes mis d'accord sur notre façon de travailler
: chacun d'entre nous utilise son propre ordinateur, nous utilisons un
gestionnaire de version ( «git» ) et nous nous sommes mis d'accord sur
une convention de codage et de commentaire. \\

Avant, et après, chaque rencontre avec notre tutrice. Avant pour
établir l'ordre du jour, discuter des point à discuter et/ou mettre en
avant. Et après pour en faire un bilan sur le déroulement de la
réunion et en déduire des éventuels changements d'orientation. \\

Pour les horaires de travail nouas avons choisis de travailler tous
les jours sauf le dimanche, de 9h à 17h et nous avons décidé de faire
un mini bilan sur ce que nous avons fait à la fin de chaque journée.\\

Les rôles ont été définis ainsi, en prenant en compte les points forts
de chacun :\\

\begin{itemize}

\item \textbf{Arnaud}
\begin{itemize}
\item bonne connaissance d'OpenGL.
\end{itemize}
\quad \\

\item \textbf{Benjamin}
\begin{itemize}
\item bon niveau en C++
\item familier avec l'analyse de problèmes et la modélisation en UML
\end{itemize}
\quad \\

\item \textbf{Julien}
\begin{itemize}
\item interêt pour l'informatique graphique
\item apprecie la modélisation de phénomènes physique
\end{itemize}
\quad \\

\end{itemize}
%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Planning prévisionnel}
%%%%%%%%%%%%%%%%%

        \includegraphics[scale=0.8]{../Planning/GANTT.ps}
        
        \includegraphics[scale=0.8]{../Planning/Planning.ps}


%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Répartition du travail}
%%%%%%%%%%%%%%%%%
Au niveau de la quantité de travail, celle ci a été très bien répartie. Nous
adaptions les tâches au fur et à mesure de manière à ce que tout le monde travaille
autant. \\
Nous avons réparti du travail sur tous les domaines, de manière à ce que tout le monde
touche à toutes les parties du projet. De même, le chef de projet a tenu à ce que 
tout le monde écrive la documentation et les comptes rendu.\\

Néanmoins, nous avons tous travaillé dans une partie plus qu'une autre.
Benjamin a plus travaillé sur le CPU, Julien sur les rendus, et Arnaud sur l'implémentation GPU.
Ceci a été fait de manière à ce que la spécialisation permette une meilleur efficatité, mais cela ne nous
a pas empéché de nous regrouper sur plusieurs points qui nécessitaient plus de matière grise.

%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Déroulement du projet}
%%%%%%%%%%%%%%%%%
\subsection{Planning du 7 Juin 2010}

    Nous avons revu notre planning le 7 juin de manière à être bien préparé pour le rendu.
    En effet nous n'aurons pas le temps de tout faire et avons du choisir sur quoi nous
    focaliser et refédinir les objectifs minimum à atteindre pour le jour de la soutenance.

        \includegraphics[scale=0.8]{../Planning/GANTT2.ps}
        
        \includegraphics[scale=0.8]{../Planning/Planning2.ps}




\subsection{Planning effectif}
Le planning du 7 Juin 2010 a été tenu. Nous avons réalisé dans les temps le travail que nous avions
prévu. Notre correction du planning a donc été pertinente et nous à permis de mieux
nous concentrer sur ce qui était important. 



        
\subsection{Détails du déroulement}
\subsubsection{Phase de recherche bibliographiques}
Cette phase a été réalisée dans les temps. Nous avons trouvé une grande quantité de documents
se rapprochant de notre sujet, nous avons pu avoir un aperçu de l'état du domaine rapidement et mieux nous orienter.

\subsubsection{Implémentation CPU du modèle de fluide}
Cette phase a été réalisée relativement vite. Ce qui a pris le plus de temps c'était de choisir des paramètres
permettant de trouver une flamme et de la fumée cohérente.

\subsubsection{Implémentation CPU du rendu}
Le rendu a pris plus de temps que prévu puisque nous avons été confrontés à des problèmes d'OpenGL nous obligeant à revoir 
notre méthode d'affichage. De plus, nous avons été confrontés à des problèmes liés à l'éffectation des textures. 


\subsubsection{Implémentation GPU du modèle de fluide}
Cette partie a été la plus difficile à réaliser. Lors de l'implémentation du modèle en GLSL, nous avons été
confronté à un bien plus grand nombre de problèmes que prévu. \\
Citons par exemple la précision des calculs, les arrondis sauvages, le débuggage difficile, des problèmes d'échelles ( les valeurs doivent être transformées à l'enregistrement pour être situées entre 0 et 1 ) ...\\
Le plus difficile a surtout été la mise en place du système de calcul, car la documentation à ce sujet est quasi inexistante. Ainsi nous avons passé une semaine entière juste à mettre en place les outils de calculs, avant même de pouvoir commencer à transposer le modèle CPU en modèle GPU. Nous n'avions pas du tout prévu cette difficulté et c'est la cause principale du retard qui a été pris dans l'implémentation du modèle GPU. Nous devions au départ réaliser le CPU et le GPU simultanéement,
mais à cause de ce problème le CPU s'est détaché et à pris de l'avance sur le GPU.



\subsubsection{Implémentation CPU du modèle d'objet}
Malgré notre retard dans le planning, nous avons réussi à terminer ce modèle en concentrant tout nos
efforts dessus, en même temps. Ainsi grâce à une bonne répartition des tâches et
un travail efficace nous avons réussi à rattraper le retard accumulé et avons réalisé
cette partie. Cette rapiditié vient aussi des choix effectués pour le modèle de fluide :
en effet notre modèle a été bien réfléchis ce qui nous a permis d'y ajouter des éléments
rapidement, notamment les intéractions avec les objets.

\subsubsection{Mise en place de la démo, et préparation de la soutenance}
Nous savions qu'il fallait beaucoup de temps pour réaliser une démo convainquante,
c'est pourquoi nous avons arrêté d'ajouter de nouveaux éléments 4 jours avant la soutenance
de manière à pouvoir compléter la documentation, réaliser un grand nombre de vidéos et préparer 
une démo intéractive pour le jour de la soutenance.



%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Conclusion}
%%%%%%%%%%%%%%%%%
Nous sommes fier de notre réalisation. Nous avons remplis notre objectif : c'est à 
dire concevoir un modèle de combustion temps réel. Même si nous n'avons pas 
pu implémenter tout notre modèle en GPU, la version CPU est totalement
opérationnelle et satisfaisante. Le projet s'est bien déroulé dans son ensemble,
les tâches ont été assez bien réparties, et l'ambiance est resté assez bonne tout au 
long du projet.



%%%%%%%%%%%%%%%%%
\subsection{Suivis du  20 mai 2010}
%%%%%%%%%%%%%%%%%

\subsubsection{Présents}
\textbf{Tuteur} : Marie Paule Cani \\
\textbf{Élèves} : Benjamin, Julien, Arnaud \\

\subsubsection{Sujets abordés}
\textbf{Définition du but et de l'échelle du projet} :  \\
se concentrer sur la propagation et la destruction des objets.\\

\textbf{Pistes à regarder} : \\
Jos Stam a fait de nombreux travaux à ce sujet, il faut regarder sur son site web de toronto. Par exemple : burning cross. Il a travaillé sur la représentation et  les modèles de feu temps réel.\\
Mathieu Desbrun à fait "Voxels On fire" et "Meshes On Fire", deux travaux sur la propagation temps réel du feu sur un objet.\\
Représentation du feu par voxels.\\

\textbf{Conseil sur la démarche} : \\
Reflechir beaucoup au BUT,
identifier les phénomènes importants,
lire beaucoup,
faire des résumés régulièrement.\\

\subsubsection{Prochain rendez vous}
Lundi 31, à 10h à l'INRIA.\\
Nous devrons y présenter le modèle de feu et de fumée.



%%%%%%%%%%%%%%%%%
\subsection{Suivis du  31 mai 2010}
%%%%%%%%%%%%%%%%%
\subsubsection{Présents}
\textbf{Tuteur} : Marie Paule Cani\\
\textbf{Élèves} : Benjamin, Julien, Arnaud \\
\textbf{Et aussi : un chercheur de l'INRIA} : Cyril Crassin \\

\subsubsection{Sujets abordés}
\textbf{Présentation de l'avancement du projet} :  \\
    Nous avons présenté à notre tutrice le modèle de fluide que nous avons implémenté en CPU.
    Nous avons expliqué son fonctionnement, comment nous étions arrivés à ces résultats, 
    quels étaient les articles qui nous avaient le plus aidé.\\
    Notre tutrice semblait satisfaite du travail effectué.\\
    
\textbf{Explication de l'implémentation, discussion à propos des modifications/améliorations à apporter} :  \\
    Nous discuté à propos des améliorations du rendu, notamment de l'ajout d'un bruit de perlin à la texture.\\
    Nous avons aussi parlé de la fumée qui doit être générée d'un autre façon.\\
    Nous avons de même parlé de la flamme qui doit perdre progressivement de la matière ( diminution du combustible présent )\\
    
\textbf{Discussions à propos du travail futur} :  \\
    Nous avons parlé de plusieurs manières d'ajouter des objets au modèle de fluide, 
    pour dégager le modèle le plus adéquat. En effet nous avions trouvé beaucoup de modèles 
    possibles mais avions du mal à en choisir un. Avec les nouvelles pistes de 
    réflexions et avec les conseils de notre tutrice nous allons pouvoir effectuer
    ce choix plus facilement.\\
    
\textbf{Résolution des problèmes liés à la version GPU} :  \\
    Dans le but de nous aider à comprendre les problèmes de notre version GPU, 
    notre tutrice nous à fait rencontrer Cyril Crassin, un chercheur de l'INRIA qui
    a beaucoup travaillé sur le GPU. Il a su répondre parfaitement à nos questions,
    ce court dialogue a été extremement profitable. \\

\subsubsection{Prochain rendez vous}
Le prochain rendez-vous sera fixé dans la semaine par mail. Il s'agira sans doute de ventredi 4 Juin.\\
Nous devrons présenter la version corrigée de notre modèle de fluide et un début d'implémentation de propagation
sur objets.\\



\subsection{Suivi Scheme n1 - 1er juin}
\subsubsection{Qui?}
Les personnes impliquées dans ce projet sont :
\begin{itemize}
\item L'équipe qui réalise le projet.
\item Notre tutrice qui suit notre travail, et nous conseille.
\item Les experts du domaine que nous avons intérogé pour des questions souvent techniques.
\item L'encandrant de sheme.
\end{itemize}

\subsubsection{Quoi?}
Dans ce projet nous devons mettre en avant un certain nombre de capacités :
\begin{itemize}
\item la recherche documentaire, en effet notre travail nécéssite de
  connaitre ce qui ce fait de mieux, et de le comprendre.
\item la compréhension du sujet, via les explications que nous faisont
  des méthodes, ainsi que notre solution finale.
\item une demonstration technique qui montre bien le résultat de notre
  travail.
\end{itemize}

\subsubsection{Comment?}
Notre démarche est simple, nous recherchons ce qui ce fait dans le
domaine et selectionnons les méthodes qui nous semblent le plus
interressantes. Bien sur notre travail ne doit pas consister a une
recopie systèmatique des solutions mais plutôt d'adapter celles que
nous avons choisis pour les intégrées dans notre solution.\\

\subsubsection{Organisation}
Pour organiser le travail, nous nous sommes d'abord mis d'acord sur le
planning prévisionel. A partir de cette base nous nous sommes réparti
le travail en fonction des préférences de chacun et aussi des
impératif du projet. De plus nous avons aussi établis une charte de
travail pour l'organisation journalière du travail.\\

\subsubsection{Savoir faire technique}
Pour la partie technique du projet, nous nous appuyons sur nos acquis
de cours. Mais aussi sur les connaissances de chacun en fonction du
domaine touché.\\ Cependant pour les point les plus pointus, ou qui
nous sont trop obscures nous avons prévu de faire appel à des expert
du domaine. Comme cela est déjà arrivé pour les calcul en GPU.

\subsubsection{Communication}
La communication au sein du groupe est simple, nous travaillons
toujours ensemble et au même endroit. Cependant dans un but pratique,
nous avons mis en place une archive git (gestionnaire de version pour
nos fichiers informatiques) commune. De plus avant chaque recontre
avec notre tutrice nous avons prévus des réunions pour convenir d'un
ordre du jour. De même a la fin de ces rencontres nous fairons un
bilan de l'entretient.









%%%%%%%%%%%%%%%%%
\subsection{Suivis du  4 Juin 2010}
%%%%%%%%%%%%%%%%%
\subsubsection{Présents}
\textbf{Tuteur} : Marie Paule Cani\\
\textbf{Élèves} : Benjamin, Julien, Arnaud \\

\subsubsection{Sujets abordés}

\textbf{Explication de la flamme et de la fumée} :  \\
    Nous avons détaillé les changements apportés au modèle de flamme et de la fumée.
    Nous avons aussi expliqué la nouvelle méthode de rendu.\\
    
\textbf{Explication du principe du calcul en GLSL, et des problèmes rencontrés} :  \\
    Nous avons expliqué le principe du calcul avec le GLSL. Nous avons fait part à notre tutrice des 
    difficultés liées à ce langage. En effet nous avons travaillé énormement sur
    la version GLSL de notre modèle, mais de nombreuses difficultées sont apparues,
    que ce soit dans le fonctionnement du GLSL ou dans l'adaptation du modèle CPU.\\
    
\textbf{Mise au point sur le modèle d'objet} :  \\
    Nous avons fait le bilan de nos recherches sur les modèles d'objet, et avons essayé
    de déterminer la meilleur solution au problème. \\

\subsubsection{Prochain rendez vous}
    Mardi 8 juin à 9h à l'INRIA.\\





%%%%%%%%%%%%%%%%%
\subsection{Suivis du  9 Juin 2010}
%%%%%%%%%%%%%%%%%
\subsubsection{Présents}
\textbf{Tuteur} : Marie Paule Cani\\
\textbf{Élèves} : Benjamin, Julien, Arnaud \\

\subsubsection{Sujets abordés}

\textbf{Mise au point sur le rendu} :  \\
Nous avons détaillé le fonctionnement du bruit de Perlin, et expliqué les derniers
détails du rendu.\\

\textbf{Mise au point GPU} :  \\
Nous avons montré le bon fonctionnement du modèle GPU et expliqué les difficultés rencontrées.\\


\textbf{Finalisation du modèle d'objet} :  \\
Nous avons expliqué nos choix sur le modèle d'objet et avons abordé certains détails
de sa conception.\\


\subsubsection{Prochain rendez vous}
    Vendredi 11 Juin à 10h à l'ENSIMAG.\\



%%%%%%%%%%%%%%%%%
\subsection{Suivis du  11 Juin 2010}
%%%%%%%%%%%%%%%%%
\subsubsection{Présents}
\textbf{Tuteur} : Marie Paule Cani\\
\textbf{Élèves} : Benjamin, Julien, Arnaud \\

\subsubsection{Sujets abordés}

\textbf{Demonstration du modèle d'objet} :  \\
    Nous avons montré l'avancement du modèle d'objet, en montrant les intéractions
    possibles déjà implémentées. Nous avons de plus expliqué la prochaine étape de
    l'implémentation.\\
    
    
\textbf{Mise au point pour la soutenance} :  \\
    Quelques points importants pour la soutenance ont été abordés.\\
     
    
\subsubsection{Prochain rendez vous}
    Lundi 14 Juin à 16h à l'INRIA, pour une simulation de soutenance.\\









%----------------------------------------------------------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%
\section{Annexes}
%%%%%%%%%%%%%%%%%

\subsection{Glossaire}

\subsubsection{CPU}
Désigne le processeur. Résoudre le problème "sur CPU" c'est donc le résoudre avec
de la programmation classique.
\subsubsection{GPU}
Désigne le processeur de la carte graphique. Résoudre le problème "sur GPU" c'est donc le résoudre 
un problème en programmant avec des shaders ( ici le GLSL ). Un shader est un programme qui s'applique à 
un objet graphique, il n'est pas destiné à priori aux calculs scientifiques. C'est pourquoi
il faut adapter le calcul pour qu'il soit adapté au calcul sur carte graphique.
\subsubsection{OpenGL}
OpenGL est une librairie graphique spécialisée pour les applications en 3D.
\subsubsection{GLSL}
C'est un langage de shader. GLSL sygnifie : OpenGL Shading Language.
\subsubsection{Shader}
Un shader est un programme s'éxecutant sur une carte graphique.

%----------------------------------------------------------------------------------------------------------------------------------------
\end{document}
